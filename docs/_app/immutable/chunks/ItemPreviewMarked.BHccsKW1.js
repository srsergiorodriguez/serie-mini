import{s as A,p as q,i as w,n as E,d as h,f as p,h as v,q as b,r as i,a as G,t as P,j as k,c as S,k as C,l as d,m as D}from"./scheduler.D8yfAcz2.js";import{S as N,i as V}from"./index.BOwWw9MP.js";import{b as o}from"./paths.SluPXZFc.js";import{m as M}from"./metadata.IsrnCqoH.js";function z(r){let e,s;return{c(){e=p("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,title:!0,alt:!0,class:!0}),this.h()},h(){b(e.src,s=r[0])||i(e,"src",s),i(e,"title",r[1]),i(e,"alt",r[2]),i(e,"class","svelte-iswlra")},m(t,l){w(t,e,l)},p(t,l){l&1&&!b(e.src,s=t[0])&&i(e,"src",s),l&2&&i(e,"title",t[1]),l&4&&i(e,"alt",t[2])},d(t){t&&h(e)}}}function B(r){let e,s,t,l,a,f,_,m=M.find(r[5]).label+"",n,g;return{c(){e=p("div"),s=p("a"),t=p("img"),f=G(),_=p("a"),n=P(m),this.h()},l(u){e=v(u,"DIV",{class:!0});var c=k(e);s=v(c,"A",{href:!0});var I=k(s);t=v(I,"IMG",{src:!0,title:!0,alt:!0,class:!0}),I.forEach(h),f=S(c),_=v(c,"A",{class:!0,href:!0});var j=k(_);n=C(j,m),j.forEach(h),c.forEach(h),this.h()},h(){b(t.src,l=o+"/iiif/"+r[3]+"/full/512,/0/default.jpg")||i(t,"src",l),i(t,"title",r[1]),i(t,"alt",r[2]),i(t,"class","svelte-iswlra"),i(s,"href",a=o+"/pages/"+r[3]),i(_,"class","silent-link"),i(_,"href",g=o+"/pages/"+r[3]),i(e,"class","preview-item svelte-iswlra")},m(u,c){w(u,e,c),d(e,s),d(s,t),d(e,f),d(e,_),d(_,n)},p(u,c){c&8&&!b(t.src,l=o+"/iiif/"+u[3]+"/full/512,/0/default.jpg")&&i(t,"src",l),c&2&&i(t,"title",u[1]),c&4&&i(t,"alt",u[2]),c&8&&a!==(a=o+"/pages/"+u[3])&&i(s,"href",a),c&8&&m!==(m=M.find(u[5]).label+"")&&D(n,m),c&8&&g!==(g=o+"/pages/"+u[3])&&i(_,"href",g)},d(u){u&&h(e)}}}function F(r){let e;function s(a,f){return a[4]?B:z}let t=s(r),l=t(r);return{c(){l.c(),e=q()},l(a){l.l(a),e=q()},m(a,f){l.m(a,f),w(a,e,f)},p(a,[f]){t===(t=s(a))&&l?l.p(a,f):(l.d(1),l=t(a),l&&(l.c(),l.m(e.parentNode,e)))},i:E,o:E,d(a){a&&h(e),l.d(a)}}}function H(r,e,s){let{href:t=""}=e,{title:l=void 0}=e,{text:a=""}=e,f=t,_=!1;/^\!/.test(t)&&(f=f.replace(/^\!/,""),_=!0);const m=n=>n.pid===f;return r.$$set=n=>{"href"in n&&s(0,t=n.href),"title"in n&&s(1,l=n.title),"text"in n&&s(2,a=n.text)},[t,l,a,f,_,m]}class Q extends N{constructor(e){super(),V(this,e,H,F,A,{href:0,title:1,text:2})}}export{Q as I};
